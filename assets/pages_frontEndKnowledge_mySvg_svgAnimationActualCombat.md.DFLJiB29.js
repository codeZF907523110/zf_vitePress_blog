import{_ as o}from"./chunks/showRun.vue_vue_type_script_setup_true_lang.DP-sawZd.js";import{c as e,aQ as t,G as r,w as c,o as D,j as a}from"./chunks/framework.D1tMLlJQ.js";const b=JSON.parse('{"title":"svg动画实战","description":"","frontmatter":{},"headers":[],"relativePath":"pages/frontEndKnowledge/mySvg/svgAnimationActualCombat.md","filePath":"pages/frontEndKnowledge/mySvg/svgAnimationActualCombat.md","lastUpdated":1744461726000}'),y={name:"pages/frontEndKnowledge/mySvg/svgAnimationActualCombat.md"},m=Object.assign(y,{setup(i){const l=n=>{n&&setTimeout(()=>{const s=document.getElementsByClassName("myPathAnimation")[0],p=s.getTotalLength()+1;s.style.setProperty("--l",p)})};return(n,s)=>(D(),e("div",null,[s[1]||(s[1]=t(`<h1 id="svg动画实战" tabindex="-1">svg动画实战 <a class="header-anchor" href="#svg动画实战" aria-label="Permalink to &quot;svg动画实战&quot;">​</a></h1><p><code>前面我们已经能掌握svg以及svg的基本知识了，接下来我们来利用svg做一些实用性的动画</code></p><h2 id="一、描边动画" tabindex="-1">一、描边动画! <a class="header-anchor" href="#一、描边动画" aria-label="Permalink to &quot;一、描边动画!&quot;">​</a></h2><p><code>我们在日常开发中经常会见到这种的描边图标，下面我们用svg来实现一下</code></p><image class="svg-animation" src="./assets/svgAnimation.gif"></image><ol><li><strong>原理</strong></li></ol><ul><li><code>stroke-dasharray</code>：将描边线变成虚线、其中实线和虚线部分的长度就是它的值，当<code>stroke-dasharray</code>与<code>path</code>长度一致时就变成了实线。</li><li><code>stroke-dashoffset</code>：描边线的偏移量。为正数时往左偏移。</li><li>由此我们可以想到：如果将<code>stroke-dasharray</code>设置为和<code>path</code>长度，变为实线后再通过<code>stroke-dashoffset</code>的偏移就可以实现描边动画</li><li>实现如下：</li></ul><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki dark-plus vp-code" tabindex="0"><code><span class="line"><span style="color:#808080;">&lt;!</span><span style="color:#569CD6;">DOCTYPE</span><span style="color:#9CDCFE;"> html</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">&lt;</span><span style="color:#569CD6;">html</span><span style="color:#9CDCFE;"> lang</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;en&quot;</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">  &lt;</span><span style="color:#569CD6;">head</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">meta</span><span style="color:#9CDCFE;"> charset</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;UTF-8&quot;</span><span style="color:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">meta</span><span style="color:#9CDCFE;"> name</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;viewport&quot;</span><span style="color:#9CDCFE;"> content</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color:#808080;"> /&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">title</span><span style="color:#808080;">&gt;</span><span style="color:#D4D4D4;">Document</span><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">title</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">style</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#D7BA7D;">      .p</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#6A9955;">        /* --l 为变量，通过 js 动态获取 */</span></span>
<span class="line"><span style="color:#9CDCFE;">        stroke-dasharray</span><span style="color:#D4D4D4;">: </span><span style="color:#DCDCAA;">var</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">--l</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#9CDCFE;">        stroke-dashoffset</span><span style="color:#D4D4D4;">: </span><span style="color:#DCDCAA;">var</span><span style="color:#D4D4D4;">(</span><span style="color:#9CDCFE;">--l</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#6A9955;">        /* forwards当动画完成后，保持最后一帧的状态 */</span></span>
<span class="line"><span style="color:#9CDCFE;">        animation</span><span style="color:#D4D4D4;">: </span><span style="color:#CE9178;">stroke</span><span style="color:#B5CEA8;"> 2s</span><span style="color:#CE9178;"> forwards</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;">      }</span></span>
<span class="line"><span style="color:#C586C0;">      @keyframes</span><span style="color:#9CDCFE;"> stroke</span><span style="color:#D4D4D4;"> {</span></span>
<span class="line"><span style="color:#D4D4D4;">        to {</span></span>
<span class="line"><span style="color:#9CDCFE;">          stroke-dashoffset</span><span style="color:#D4D4D4;">: </span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#D4D4D4;">        }</span></span>
<span class="line"><span style="color:#D4D4D4;">      }</span></span>
<span class="line"><span style="color:#808080;">    &lt;/</span><span style="color:#569CD6;">style</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">  &lt;/</span><span style="color:#569CD6;">head</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">  &lt;</span><span style="color:#569CD6;">body</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;</span><span style="color:#569CD6;">svg</span><span style="color:#9CDCFE;"> class</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;icon&quot;</span><span style="color:#9CDCFE;"> viewBox</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;0 0 1024 1024&quot;</span><span style="color:#9CDCFE;"> width</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;200&quot;</span><span style="color:#9CDCFE;"> height</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;200&quot;</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">      &lt;</span><span style="color:#569CD6;">path</span></span>
<span class="line"><span style="color:#9CDCFE;">        class</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;myPathAnimation&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;">        d</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0zM213.333 832A298.667 298.667 0 0 1 512 533.333a170.667 170.667 0 1 1 170.667-170.666A170.667 170.667 0 0 1 512 533.333 298.667 298.667 0 0 1 810.667 832z&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;">        fill</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;none&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;">        stroke</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;red&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;">        stroke-width</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;10&quot;</span></span>
<span class="line"><span style="color:#9CDCFE;">        stroke-linecap</span><span style="color:#D4D4D4;">=</span><span style="color:#CE9178;">&quot;round&quot;</span></span>
<span class="line"><span style="color:#808080;">      /&gt;</span></span>
<span class="line"><span style="color:#808080;">    &lt;/</span><span style="color:#569CD6;">svg</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">  &lt;/</span><span style="color:#569CD6;">body</span><span style="color:#808080;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#808080;">  &lt;</span><span style="color:#569CD6;">script</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#569CD6;">    const</span><span style="color:#4FC1FF;"> path</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">document</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getElementsByClassName</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&#39;myPathAnimation&#39;</span><span style="color:#D4D4D4;">)[</span><span style="color:#B5CEA8;">0</span><span style="color:#D4D4D4;">]</span></span>
<span class="line"><span style="color:#6A9955;">    // getTotalLength可以获取path的总长度</span></span>
<span class="line"><span style="color:#569CD6;">    const</span><span style="color:#4FC1FF;"> len</span><span style="color:#D4D4D4;"> = </span><span style="color:#9CDCFE;">path</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">getTotalLength</span><span style="color:#D4D4D4;">() + </span><span style="color:#B5CEA8;">1</span><span style="color:#D4D4D4;">;</span></span>
<span class="line"><span style="color:#9CDCFE;">    path</span><span style="color:#D4D4D4;">.</span><span style="color:#9CDCFE;">style</span><span style="color:#D4D4D4;">.</span><span style="color:#DCDCAA;">setProperty</span><span style="color:#D4D4D4;">(</span><span style="color:#CE9178;">&quot;--l&quot;</span><span style="color:#D4D4D4;">, </span><span style="color:#9CDCFE;">len</span><span style="color:#D4D4D4;">);</span></span>
<span class="line"><span style="color:#808080;">  &lt;/</span><span style="color:#569CD6;">script</span><span style="color:#808080;">&gt;</span></span>
<span class="line"><span style="color:#808080;">&lt;/</span><span style="color:#569CD6;">html</span><span style="color:#808080;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div>`,8)),r(o,{onChangeRunStatus:l},{svgCode:c(()=>s[0]||(s[0]=[a("svg",{class:"icon",viewBox:"0 0 1024 1024",width:"200",height:"200"},[a("path",{class:"myPathAnimation",d:"M512 0a512 512 0 1 0 512 512A512 512 0 0 0 512 0zM213.333 832A298.667 298.667 0 0 1 512 533.333a170.667 170.667 0 1 1 170.667-170.666A170.667 170.667 0 0 1 512 533.333 298.667 298.667 0 0 1 810.667 832z",fill:"none",stroke:"red","stroke-width":"10","stroke-linecap":"round"})],-1)])),_:1})]))}});export{b as __pageData,m as default};
